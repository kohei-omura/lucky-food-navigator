<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ½ï¸ Lucky Food Navigator</title>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700;900&family=M+PLUS+Rounded+1c:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #FF6B6B;
            --secondary: #FFD93D;
            --accent: #6BCF7F;
            --deep: #2C3E50;
            --text: #2C3E50;
            --bg: #FFF8E7;
            --card: #FFFFFF;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'M PLUS Rounded 1c', sans-serif;
            background: linear-gradient(135deg, #FFF8E7 0%, #FFE5B4 100%);
            color: var(--text);
            min-height: 100vh;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }
        .bg-deco { position: fixed; pointer-events: none; z-index: 0; }
        .star { 
            position: absolute; animation: twinkle 3s infinite;
            font-size: 1.5rem; opacity: 0.3;
        }
        @keyframes twinkle {
            0%, 100% { opacity: 0.2; transform: scale(1); }
            50% { opacity: 0.6; transform: scale(1.2); }
        }
        .food-float {
            position: absolute; font-size: 2rem;
            animation: float 15s infinite linear; opacity: 0.15;
        }
        @keyframes float {
            0% { transform: translateY(100vh) rotate(0deg); }
            100% { transform: translateY(-100vh) rotate(360deg); }
        }
        .container { max-width: 480px; margin: 0 auto; position: relative; z-index: 1; }
        header { text-align: center; margin-bottom: 30px; animation: slideDown 0.6s ease-out; }
        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .logo { font-size: 3rem; margin-bottom: 10px; animation: bounce 2s infinite; }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        h1 {
            font-family: 'Zen Maru Gothic', sans-serif;
            font-size: 1.8rem; font-weight: 900;
            color: var(--primary); margin-bottom: 5px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        .subtitle { font-size: 0.9rem; color: #666; font-weight: 700; }
        .time-display {
            background: var(--card); border-radius: 20px; padding: 20px;
            margin-bottom: 20px; box-shadow: 0 8px 24px rgba(0,0,0,0.12);
            text-align: center; animation: fadeIn 0.8s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        .time-label { font-size: 0.75rem; color: #999; margin-bottom: 5px; letter-spacing: 0.1em; }
        .time-value {
            font-size: 1.8rem; font-weight: 900; color: var(--primary);
            font-family: 'Zen Maru Gothic', sans-serif;
        }
        .divination-mini {
            display: flex; gap: 8px; justify-content: center;
            margin-top: 8px; flex-wrap: wrap;
        }
        .divi-tag {
            background: linear-gradient(135deg, #FFD93D, #FF6B6B);
            color: white; padding: 4px 10px; border-radius: 12px;
            font-size: 0.72rem; font-weight: 700;
        }
        .fortune-btn {
            width: 100%; padding: 25px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border: none; border-radius: 25px; color: white;
            font-size: 1.5rem; font-weight: 900;
            font-family: 'Zen Maru Gothic', sans-serif; cursor: pointer;
            box-shadow: 0 10px 30px rgba(255,107,107,0.4);
            transition: all 0.3s ease; margin-bottom: 20px;
            position: relative; overflow: hidden;
        }
        .fortune-btn::before {
            content: ''; position: absolute; top: 50%; left: 50%;
            width: 0; height: 0; border-radius: 50%;
            background: rgba(255,255,255,0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        .fortune-btn:hover::before { width: 300px; height: 300px; }
        .fortune-btn:active { transform: scale(0.98); }
        .loading { display: none; text-align: center; padding: 40px; }
        .loading.show { display: block; }
        .loading-icon { font-size: 4rem; animation: spin 1s linear infinite; display: inline-block; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .loading-text {
            margin-top: 15px; font-size: 1rem; color: #666; animation: pulse 1.5s infinite;
        }
        @keyframes pulse { 0%, 100% { opacity: 0.5; } 50% { opacity: 1; } }
        .result { display: none; }
        .result.show { display: block; animation: resultAppear 0.8s ease-out; }
        @keyframes resultAppear {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .result-card {
            background: var(--card); border-radius: 20px; padding: 25px;
            margin-bottom: 15px; box-shadow: 0 8px 24px rgba(0,0,0,0.12);
            border-left: 5px solid var(--primary);
            transition: all 0.3s ease; animation: slideIn 0.6s ease-out;
            animation-fill-mode: both;
        }
        .result-card:nth-child(1) { animation-delay: 0.1s; border-left-color: #FFD700; }
        .result-card:nth-child(2) { animation-delay: 0.2s; border-left-color: #C0C0C0; }
        .result-card:nth-child(3) { animation-delay: 0.3s; border-left-color: #CD7F32; }
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }
        .result-card:hover { transform: translateY(-5px); box-shadow: 0 12px 32px rgba(0,0,0,0.16); }
        .rank { display: inline-block; font-size: 2rem; margin-right: 10px; }
        .shop-header { display: flex; align-items: center; margin-bottom: 15px; }
        .shop-icon { font-size: 2.5rem; margin-right: 15px; }
        .shop-info { flex: 1; }
        .shop-name { font-size: 1.3rem; font-weight: 900; color: var(--text); margin-bottom: 3px; }
        .shop-location { font-size: 0.8rem; color: #999; }
        .score-badge {
            background: linear-gradient(135deg, var(--accent), #4ECDC4);
            color: white; padding: 8px 16px; border-radius: 20px;
            font-weight: 900; font-size: 1.1rem; display: inline-block;
            margin-bottom: 12px; box-shadow: 0 4px 12px rgba(110,207,127,0.3);
        }
        .reason {
            background: #FFF8E7; padding: 15px; border-radius: 12px;
            font-size: 0.9rem; line-height: 1.7; color: #555; margin-bottom: 12px;
        }
        .tags { display: flex; flex-wrap: wrap; gap: 8px; }
        .tag {
            background: var(--secondary); color: var(--text);
            padding: 6px 12px; border-radius: 15px;
            font-size: 0.75rem; font-weight: 700;
        }
        .summary {
            background: var(--card); border-radius: 20px; padding: 20px;
            margin-top: 20px; box-shadow: 0 8px 24px rgba(0,0,0,0.12); text-align: center;
        }
        .summary-title { font-size: 0.85rem; color: #999; margin-bottom: 10px; letter-spacing: 0.1em; }
        .summary-text { font-size: 1rem; line-height: 1.8; color: #555; }
        .divination-detail {
            background: linear-gradient(135deg, #FFF8E7, #FFEAA7);
            border-radius: 16px; padding: 16px; margin-top: 15px;
            border: 1px solid rgba(255,215,0,0.3);
        }
        .divination-detail h3 {
            font-size: 0.85rem; color: #888; margin-bottom: 10px; letter-spacing: 0.08em;
        }
        .divi-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
        .divi-item {
            background: white; border-radius: 10px; padding: 8px 10px;
            font-size: 0.75rem;
        }
        .divi-item .divi-label { color: #999; font-size: 0.68rem; }
        .divi-item .divi-val { font-weight: 900; color: var(--primary); }
        footer { text-align: center; margin-top: 40px; padding: 20px; color: #999; font-size: 0.8rem; }
        .back-btn {
            width: 100%; padding: 15px; background: #E0E0E0; border: none;
            border-radius: 15px; color: #666; font-size: 1rem; font-weight: 700;
            cursor: pointer; margin-top: 15px; transition: all 0.3s ease;
        }
        .back-btn:hover { background: #D0D0D0; }
        .open-badge {
            display: inline-block; padding: 2px 8px; border-radius: 8px;
            font-size: 0.68rem; font-weight: 700; margin-left: 6px;
        }
        .open-now { background: #d4edda; color: #155724; }
        .closed-now { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
<div class="bg-deco">
    <div class="star" style="top:10%;left:20%;">âœ¨</div>
    <div class="star" style="top:30%;left:80%;">â­</div>
    <div class="star" style="top:60%;left:15%;">ğŸ’«</div>
    <div class="star" style="top:80%;left:75%;">ğŸŒŸ</div>
    <div class="food-float" style="left:10%;animation-delay:0s;">ğŸœ</div>
    <div class="food-float" style="left:70%;animation-delay:3s;">ğŸ°</div>
    <div class="food-float" style="left:40%;animation-delay:6s;">â˜•</div>
    <div class="food-float" style="left:85%;animation-delay:9s;">ğŸ±</div>
</div>

<div class="container">
    <header>
        <div class="logo">ğŸ”®ğŸ½ï¸</div>
        <h1>Lucky Food Navigator</h1>
        <p class="subtitle">ã‚¤ã‚ªãƒ³ãƒ¢ãƒ¼ãƒ«å®®å´å°‚ç”¨ é–‹é‹ã‚°ãƒ«ãƒ¡ã‚¬ã‚¤ãƒ‰</p>
    </header>
    
    <div class="time-display">
        <div class="time-label">ğŸ“… ä»Šã®æ—¥æ™‚</div>
        <div class="time-value" id="current-time">å–å¾—ä¸­...</div>
        <div class="divination-mini" id="mini-divi"></div>
    </div>
    
    <button class="fortune-btn" onclick="startFortune()">
        âœ¨ ä»Šã™ãé£Ÿã¹ã‚‹ã¹ãåº—ã‚’å ã† âœ¨
    </button>
    
    <div class="loading" id="loading">
        <div class="loading-icon">ğŸ”®</div>
        <div class="loading-text" id="loading-text">æ˜Ÿã€…ã«å•ã„ã‹ã‘ã¦ã„ã¾ã™...</div>
    </div>
    
    <div class="result" id="result"></div>
    
    <footer>
        Powered by ã‚¯ãƒˆã¡ã‚ƒã‚“ ğŸ’«<br>
        æ™ƒå¹³ã•ã‚“å°‚ç”¨ï¼ˆç‰¡ç¾Šåº§ãƒ»Bå‹ãƒ»é…‰å¹´ï¼‰
    </footer>
</div>

<script>
// ========== ã‚¤ã‚ªãƒ³ãƒ¢ãƒ¼ãƒ«å®®å´ å…¨é£²é£Ÿåº—ãƒ‡ãƒ¼ã‚¿ ==========
const restaurants = [
    // 1F
    { name:'åŒ—æµ·é“ã‚­ãƒƒãƒãƒ³ YOSHIMI', floor:'1F', genre:'ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³', element:'åœŸ', hours:{open:11,close:22}, emoji:'ğŸ´', tags:['ãƒ­ãƒ¼ã‚¹ãƒˆãƒ“ãƒ¼ãƒ•ä¸¼','åŒ—æµ·é“ã‚°ãƒ«ãƒ¡','ãƒ©ãƒ³ãƒ'] },
    { name:'ã‚³ãƒ¡ãƒ€çˆç²åº—', floor:'1F', genre:'ã‚«ãƒ•ã‚§', element:'é¢¨', hours:{open:9,close:22}, emoji:'â˜•', tags:['ãƒ¢ãƒ¼ãƒ‹ãƒ³ã‚°','ã‚«ãƒ•ã‚§','è»½é£Ÿ'] },
    { name:'ç¯‰åœ°é£Ÿå ‚ æºã¡ã‚ƒã‚“', floor:'1F', genre:'æµ·é®®ãƒ»å’Œé£Ÿ', element:'æ°´', hours:{open:11,close:22}, emoji:'ğŸŸ', tags:['æµ·é®®ä¸¼','å’Œé£Ÿ','é¯›ã”ã¾ä¸¼'] },
    { name:'ã¦ã‚“ã·ã‚‰ä¸€ä»£', floor:'1F', genre:'å¤©ã·ã‚‰', element:'ç«', hours:{open:11,close:22}, emoji:'ğŸ¤', tags:['å¤©ã·ã‚‰','æšã’ç‰©','å®šé£Ÿ'] },
    { name:'ã‚¹ã‚¿ãƒ¼ãƒãƒƒã‚¯ã‚¹ï¼ˆ1Fï¼‰', floor:'1F', genre:'ã‚«ãƒ•ã‚§', element:'é¢¨', hours:{open:9,close:22}, emoji:'â˜•', tags:['ã‚«ãƒ•ã‚§','ã‚¹ã‚¿ãƒ','ãƒ•ãƒ©ãƒšãƒãƒ¼ãƒ'] },
    { name:'ã‚¤ã‚¿ãƒªã‚¢ãƒ³ãƒˆãƒãƒˆ', floor:'1F', genre:'ã‚«ãƒ•ã‚§ãƒ»æ´‹é£Ÿ', element:'é¢¨', hours:{open:10,close:22}, emoji:'ğŸ', tags:['ãƒ‘ã‚¹ã‚¿','æ´‹é£Ÿ','ã‚«ãƒ•ã‚§'] },
    { name:'ã‚±ãƒ³ã‚¿ãƒƒã‚­ãƒ¼', floor:'1F', genre:'ãƒ•ã‚¡ã‚¹ãƒˆãƒ•ãƒ¼ãƒ‰', element:'ç«', hours:{open:10,close:22}, emoji:'ğŸ—', tags:['ãƒã‚­ãƒ³','ãƒ•ã‚¡ã‚¹ãƒˆãƒ•ãƒ¼ãƒ‰'] },
    { name:'ãƒã‚¯ãƒ‰ãƒŠãƒ«ãƒ‰', floor:'1F', genre:'ãƒ•ã‚¡ã‚¹ãƒˆãƒ•ãƒ¼ãƒ‰', element:'ç«', hours:{open:7,close:24}, emoji:'ğŸ”', tags:['ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼','æœãƒãƒƒã‚¯'] },
    { name:'éŠ€åº§æƒ£èœåº—', floor:'1F', genre:'æƒ£èœãƒ»ç„¼ãé³¥', element:'ç«', hours:{open:10,close:22}, emoji:'ğŸ—', tags:['ç„¼ãé³¥','æƒ£èœ','ãƒ†ã‚¤ã‚¯ã‚¢ã‚¦ãƒˆ'] },
    { name:'æŸ¿å®‰ãƒ€ã‚¤ãƒ‹ãƒ³ã‚°', floor:'1F', genre:'æƒ£èœ', element:'åœŸ', hours:{open:10,close:22}, emoji:'ğŸ¥˜', tags:['æƒ£èœ','ãŠå¼å½“','é«˜ç´š'] },
    // 2F
    { name:'ä¸¸äº€è£½éºº', floor:'2F', genre:'ã†ã©ã‚“', element:'æ°´', hours:{open:10,close:22}, emoji:'ğŸœ', tags:['ã†ã©ã‚“','å¤©ã·ã‚‰','ã„ãªã‚Š'] },
    { name:'ãƒ‡ã‚£ãƒƒãƒ‘ãƒ¼ãƒ€ãƒ³', floor:'2F', genre:'ã‚¯ãƒ¬ãƒ¼ãƒ—ãƒ»ã‚¹ã‚¤ãƒ¼ãƒ„', element:'æ°´', hours:{open:10,close:21}, emoji:'ğŸ“', tags:['ã‚¯ãƒ¬ãƒ¼ãƒ—','ã„ã¡ã”','ã‚¹ã‚¤ãƒ¼ãƒ„'] },
    { name:'é­åŠ›å±‹', floor:'2F', genre:'ãƒ©ãƒ¼ãƒ¡ãƒ³', element:'ç«', hours:{open:11,close:22}, emoji:'ğŸœ', tags:['ãƒ©ãƒ¼ãƒ¡ãƒ³','äº¬éƒ½','é†¤æ²¹'] },
    { name:'ã‚‚ãã¦ãã¡', floor:'2F', genre:'ãƒ©ãƒ¼ãƒ¡ãƒ³', element:'ç«', hours:{open:11,close:22}, emoji:'ğŸœ', tags:['è±šéª¨ãƒ©ãƒ¼ãƒ¡ãƒ³','ãƒ©ãƒ¼ãƒ¡ãƒ³'] },
    { name:'ã‚µãƒ–ã‚¦ã‚§ã‚¤', floor:'2F', genre:'ã‚µãƒ³ãƒ‰ã‚¤ãƒƒãƒ', element:'é¢¨', hours:{open:10,close:21}, emoji:'ğŸ¥–', tags:['ã‚µãƒ³ãƒ‰ã‚¤ãƒƒãƒ','ãƒ˜ãƒ«ã‚·ãƒ¼','è»½é£Ÿ'] },
    { name:'ã‚¹ã‚¿ãƒ¼ãƒãƒƒã‚¯ã‚¹ï¼ˆ2Fï¼‰', floor:'2F', genre:'ã‚«ãƒ•ã‚§', element:'é¢¨', hours:{open:9,close:22}, emoji:'â˜•', tags:['ã‚«ãƒ•ã‚§','ã‚¹ã‚¿ãƒ','ãƒ•ãƒ©ãƒšãƒãƒ¼ãƒ'] },
    { name:'ã‚¿ãƒªãƒ¼ã‚ºã‚³ãƒ¼ãƒ’ãƒ¼', floor:'2F', genre:'ã‚«ãƒ•ã‚§', element:'é¢¨', hours:{open:9,close:22}, emoji:'â˜•', tags:['ã‚«ãƒ•ã‚§','ã‚³ãƒ¼ãƒ’ãƒ¼'] },
    { name:'ã‚¹ã‚¿ãƒ¼ãƒãƒƒã‚¯ã‚¹ ãƒ†ã‚£ãƒ¼ï¼†ã‚«ãƒ•ã‚§', floor:'2F', genre:'ã‚«ãƒ•ã‚§ãƒ»ç´…èŒ¶', element:'é¢¨', hours:{open:10,close:22}, emoji:'ğŸ«–', tags:['ç´…èŒ¶','ãƒ†ã‚£ãƒ¼','ã‚¹ãƒ ãƒ¼ã‚¸ãƒ¼'] },
    { name:'ãã ã‚‚ã®ã‹ãµã‡', floor:'2F', genre:'ã‚«ãƒ•ã‚§ãƒ»ãƒ•ãƒ«ãƒ¼ãƒ„', element:'æ°´', hours:{open:10,close:21}, emoji:'ğŸ“', tags:['ã‚¹ãƒ ãƒ¼ã‚¸ãƒ¼','ãƒ•ãƒ«ãƒ¼ãƒ„','ã‚ã¾ãŠã†'] },
    { name:'ã‚´ãƒ‡ã‚£ãƒ', floor:'2F', genre:'ã‚¹ã‚¤ãƒ¼ãƒ„', element:'æ°´', hours:{open:10,close:21}, emoji:'ğŸ«', tags:['ãƒãƒ§ã‚³ãƒ¬ãƒ¼ãƒˆ','é«˜ç´š','ã‚¹ã‚¤ãƒ¼ãƒ„'] },
    { name:'éŠ€ã ã“', floor:'2F', genre:'ãŸã“ç„¼ã', element:'ç«', hours:{open:10,close:21}, emoji:'ğŸ™', tags:['ãŸã“ç„¼ã','ã‚†ãšãƒãƒ³'] },
    { name:'ãƒ¢ã‚¹ãƒãƒ¼ã‚¬ãƒ¼', floor:'ãã®ä»–', genre:'ãƒ•ã‚¡ã‚¹ãƒˆãƒ•ãƒ¼ãƒ‰', element:'ç«', hours:{open:10,close:21}, emoji:'ğŸ”', tags:['ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼','é‡èœ'] },
];

// ========== ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ï¼ˆæ™ƒå¹³ã•ã‚“å°‚ç”¨ï¼‰ ==========
const userData = {
    name: 'å¤§æ‘æ™ƒå¹³',
    birthdate: '1993-04-14',
    zodiac: 'ç‰¡ç¾Šåº§',
    bloodType: 'B',
    eto: 'é…‰',
    element: 'ç«'
};

// ========== å è¡“è¨ˆç®—ã‚¨ãƒ³ã‚¸ãƒ³ ==========

const zodiacBase = {
    'ç‰¡ç¾Šåº§':{base:88,element:'ç«',planet:'ç«æ˜Ÿ',luckyNum:9},
    'ç‰¡ç‰›åº§':{base:82,element:'åœŸ',planet:'é‡‘æ˜Ÿ',luckyNum:6},
    'åŒå­åº§':{base:86,element:'é¢¨',planet:'æ°´æ˜Ÿ',luckyNum:5},
    'èŸ¹åº§':{base:80,element:'æ°´',planet:'æœˆ',luckyNum:2},
    'ç…å­åº§':{base:90,element:'ç«',planet:'å¤ªé™½',luckyNum:1},
    'ä¹™å¥³åº§':{base:84,element:'åœŸ',planet:'æ°´æ˜Ÿ',luckyNum:5},
    'å¤©ç§¤åº§':{base:85,element:'é¢¨',planet:'é‡‘æ˜Ÿ',luckyNum:6},
    'è åº§':{base:87,element:'æ°´',planet:'å†¥ç‹æ˜Ÿ',luckyNum:8},
    'å°„æ‰‹åº§':{base:89,element:'ç«',planet:'æœ¨æ˜Ÿ',luckyNum:3},
    'å±±ç¾Šåº§':{base:83,element:'åœŸ',planet:'åœŸæ˜Ÿ',luckyNum:8},
    'æ°´ç“¶åº§':{base:86,element:'é¢¨',planet:'å¤©ç‹æ˜Ÿ',luckyNum:4},
    'é­šåº§':{base:81,element:'æ°´',planet:'æµ·ç‹æ˜Ÿ',luckyNum:7}
};

const bloodBonus = { 'A':3, 'B':5, 'O':4, 'AB':6 };
const etoBonus = { 'å­':4,'ä¸‘':3,'å¯…':6,'å¯':5,'è¾°':7,'å·³':4,'åˆ':6,'æœª':3,'ç”³':5,'é…‰':6,'æˆŒ':4,'äº¥':5 };
const dayBonus = [3,5,4,7,6,8,7]; // æ—¥æœˆç«æ°´æœ¨é‡‘åœŸ

function getHourScore(h) {
    const scores = [3,2,2,2,2,4,6,7,7,7,8,8,9,9,8,8,7,9,9,9,8,8,7,5];
    return scores[h] || 7;
}

// ä¹æ˜Ÿæ°—å­¦ï¼šæœ¬å‘½æ˜Ÿï¼ˆè¨ˆç®—ã«ä½¿ç”¨ï¼‰
function getKyusei(birthYear) {
    const base = (birthYear - 1) % 9;
    const stars = ['ä¹ç´«ç«æ˜Ÿ','ä¸€ç™½æ°´æ˜Ÿ','äºŒé»’åœŸæ˜Ÿ','ä¸‰ç¢§æœ¨æ˜Ÿ','å››ç·‘æœ¨æ˜Ÿ','äº”é»„åœŸæ˜Ÿ','å…­ç™½é‡‘æ˜Ÿ','ä¸ƒèµ¤é‡‘æ˜Ÿ','å…«ç™½åœŸæ˜Ÿ'];
    return stars[base % 9];
}

// ä¹æ˜Ÿæ°—å­¦ã‚¹ã‚³ã‚¢è£œæ­£ï¼ˆæœ¬å‘½æ˜ŸÃ—å¹´æœˆã®æ°—ï¼‰
function getKyuseiBonus(birthYear, now) {
    const kyusei = getKyusei(birthYear);
    // ä¸ƒèµ¤é‡‘æ˜Ÿï¼ˆ1993ç”Ÿã¾ã‚Œï¼‰ã¯é‡‘ã®æ°—ã€‚é‡‘Ã—ç§‹Ã—å¤•æ–¹ãŒå‰
    const kyuseiMap = {
        'ä¸ƒèµ¤é‡‘æ˜Ÿ': { monthBonus: [4,5,6,7,8,9,6,5,4,7,8,9], hourBonus: 2 },
        'å…­ç™½é‡‘æ˜Ÿ': { monthBonus: [5,6,7,8,9,8,5,4,3,6,7,8], hourBonus: 2 },
        'å…«ç™½åœŸæ˜Ÿ': { monthBonus: [6,7,8,9,8,7,6,5,4,5,6,7], hourBonus: 1 },
    };
    const data = kyuseiMap[kyusei] || { monthBonus: [5,5,5,5,5,5,5,5,5,5,5,5], hourBonus: 0 };
    return data.monthBonus[now.getMonth()] + data.hourBonus;
}

// å››æŸ±æ¨å‘½ï¼šæ—¥å¹²ï¼ˆè¨ˆç®—ã«ä½¿ç”¨ï¼‰
function getDayKan(now) {
    const base = new Date(2000, 0, 1);
    const diff = Math.floor((now - base) / 86400000);
    const kans = ['ç”²','ä¹™','ä¸™','ä¸','æˆŠ','å·±','åºš','è¾›','å£¬','ç™¸'];
    return kans[((diff % 10) + 10) % 10];
}

// æ—¥å¹²ã‚¹ã‚³ã‚¢è£œæ­£ï¼ˆç‰¡ç¾Šåº§ãƒ»Bå‹ã¨ã®ç›¸æ€§ï¼‰
function getDayKanBonus(dayKan) {
    // ç‰¡ç¾Šåº§ï¼ˆç«ï¼‰Ã—Bå‹ï¼ˆè‡ªç”±ï¼‰ã«ã¯ä¸™ãƒ»ä¸ï¼ˆç«å¹²ï¼‰ãƒ»å£¬ãƒ»ç™¸ï¼ˆæ°´å¹²ï¼šç›¸å‰‹ã§åˆºæ¿€ï¼‰ãŒè‰¯ã„
    const kanBonus = { 'ç”²':3,'ä¹™':4,'ä¸™':8,'ä¸':9,'æˆŠ':5,'å·±':4,'åºš':6,'è¾›':7,'å£¬':5,'ç™¸':4 };
    return kanBonus[dayKan] || 5;
}

// â˜…ã€ä¿®æ­£ã€‘å…­æ›œï¼šè¨ˆç®—å¼ãƒ™ãƒ¼ã‚¹ï¼ˆæ—§æš¦ã‹ã‚‰æ­£ç¢ºã«ç®—å‡ºï¼‰
// æ—§æš¦åŸºæº–æ—¥: 2026å¹´2æœˆ17æ—¥ = æ—§æš¦2026å¹´1æœˆ1æ—¥
function getRokuyo(now) {
    const REF = new Date(2026, 1, 17); // æ—§æš¦1/1
    const ROKUYO = ['å¤§å®‰','èµ¤å£','å…ˆå‹','å‹å¼•','å…ˆè² ','ä»æ»…'];
    // æ—§æš¦æœˆã®æ—¥æ•°ï¼ˆ2026å¹´ï¼‰
    const LUNAR_2026 = [30,29,30,30,29,30,29,30,29,30,30,29];
    // 2025å¹´æ—§æš¦æœˆã®æ—¥æ•°ï¼ˆ2026/2/17ä»¥å‰ç”¨ï¼‰
    const LUNAR_2025_END = [29,30]; // æ—§æš¦11æœˆ:29, 12æœˆ:30

    const diff = Math.floor((now - REF) / 86400000);
    let lm, ld;
    if (diff >= 0) {
        lm = 1; ld = 1 + diff;
        while (ld > LUNAR_2026[(lm-1) % 12]) {
            ld -= LUNAR_2026[(lm-1) % 12];
            lm++;
        }
    } else {
        // æ—§æš¦2025å¹´12æœˆã‹ã‚‰é¡ã‚‹
        ld = LUNAR_2025_END[1] + diff + 1;
        if (ld <= 0) {
            ld += LUNAR_2025_END[0];
            lm = 11;
        } else {
            lm = 12;
        }
    }
    return ROKUYO[((lm + ld) % 6 + 6) % 6];
}

// æœˆç›¸è¨ˆç®—
function getMoonPhase(now) {
    const knownNew = new Date(2000, 0, 6);
    const diff = (now - knownNew) / 86400000;
    const cycle = diff % 29.53;
    if (cycle < 1.5 || cycle > 28) return { phase:'æ–°æœˆ', bonus:6, emoji:'ğŸŒ‘' };
    if (cycle < 7.5) return { phase:'ä¸‰æ—¥æœˆ', bonus:4, emoji:'ğŸŒ’' };
    if (cycle < 9.5) return { phase:'ä¸Šå¼¦ã®æœˆ', bonus:5, emoji:'ğŸŒ“' };
    if (cycle < 14) return { phase:'åä¸‰å¤œ', bonus:6, emoji:'ğŸŒ”' };
    if (cycle < 16) return { phase:'æº€æœˆ', bonus:8, emoji:'ğŸŒ•' };
    if (cycle < 22) return { phase:'ä¸‹å¼¦ã®æœˆ', bonus:4, emoji:'ğŸŒ–' };
    return { phase:'æ™¦æ—¥æœˆ', bonus:3, emoji:'ğŸŒ˜' };
}

// ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆç›¸æ€§
function getElementCompatibility(userElement, shopElement) {
    const compat = {
        'ç«': { 'ç«':10, 'åœŸ':8, 'é¢¨':9, 'æ°´':5 },
        'åœŸ': { 'ç«':8, 'åœŸ':10, 'é¢¨':6, 'æ°´':7 },
        'é¢¨': { 'ç«':9, 'åœŸ':6, 'é¢¨':10, 'æ°´':8 },
        'æ°´': { 'ç«':5, 'åœŸ':7, 'é¢¨':8, 'æ°´':10 }
    };
    return compat[userElement][shopElement] || 7;
}

// æ•°ç§˜è¡“ï¼šãƒ©ã‚¤ãƒ•ãƒ‘ã‚¹
function getLifePath(birthdate) {
    const digits = birthdate.replace(/-/g,'').split('').map(Number);
    let sum = digits.reduce((a,b)=>a+b,0);
    while (sum > 9 && sum !== 11 && sum !== 22) {
        sum = String(sum).split('').map(Number).reduce((a,b)=>a+b,0);
    }
    return sum;
}

// â˜…ã€ä¿®æ­£ã€‘ã‚·ãƒ¼ãƒ‰é–¢æ•°ï¼šå¹´æœˆæ—¥ã‚’å…¨ã¦ä½¿ã„ã€åº—èˆ—ã”ã¨ã«ç•°ãªã‚‹å€¤ã‚’ç”Ÿæˆ
function shopSeed(now, shopIndex) {
    const y = now.getFullYear();
    const m = now.getMonth() + 1;
    const d = now.getDate();
    const h = now.getHours();
    // å¹´æœˆæ—¥æ™‚ + åº—èˆ—ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã§å®Œå…¨ã«ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªseed
    const base = (y * 10000 + m * 100 + d) * 100 + h;
    // ç·šå½¢åˆåŒæ³•ã§åº—èˆ—ã”ã¨ã«ç•°ãªã‚‹ãƒ©ãƒ³ãƒ€ãƒ å€¤ã‚’ç”Ÿæˆ
    const a = 1664525, c = 1013904223;
    let val = (base + shopIndex * 37) >>> 0;
    val = (Math.imul(a, val) + c) >>> 0;
    val = (Math.imul(a, val) + c) >>> 0;
    return (val % 21) - 10; // -10ã€œ+10ã®ç¯„å›²
}

// ========== ãƒ¡ã‚¤ãƒ³è¨ˆç®—é–¢æ•° ==========
function calculateRestaurantScores(now) {
    const h = now.getHours();
    const zData = zodiacBase[userData.zodiac];
    const rokuyo = getRokuyo(now);
    const moonPhase = getMoonPhase(now);
    const lp = getLifePath(userData.birthdate);
    const dayKan = getDayKan(now);
    const dayKanBonus = getDayKanBonus(dayKan);
    const kyuseiBonus = getKyuseiBonus(parseInt(userData.birthdate), now);

    // â˜…ã€ä¿®æ­£ã€‘å…­æ›œã‚¹ã‚³ã‚¢ï¼ˆæ­£ç¢ºãªå€¤ã‚’ä½¿ç”¨ï¼‰
    const rokuyoBonus = {'å¤§å®‰':10,'å‹å¼•':7,'å…ˆå‹':5,'å…ˆè² ':4,'èµ¤å£':2,'ä»æ»…':1};
    
    // åŸºæœ¬é‹æ°—ï¼ˆå…¨åº—èˆ—å…±é€šãƒ™ãƒ¼ã‚¹ï¼‰
    let baseScore = zData.base
        + bloodBonus[userData.bloodType]   // è¡€æ¶²å‹: B=5
        + etoBonus[userData.eto]           // å¹²æ”¯: é…‰=6
        + dayBonus[now.getDay()]           // æ›œæ—¥
        + (lp % 5)                         // æ•°ç§˜è¡“
        + moonPhase.bonus                  // æœˆç›¸
        + (rokuyoBonus[rokuyo] || 4)       // å…­æ›œï¼ˆâ˜…ä¿®æ­£æ¸ˆã¿ï¼‰
        + dayKanBonus                      // å››æŸ±æ¨å‘½ãƒ»æ—¥å¹²ï¼ˆâ˜…æ–°è¦è¿½åŠ ï¼‰
        + kyuseiBonus;                     // ä¹æ˜Ÿæ°—å­¦ï¼ˆâ˜…æ–°è¦è¿½åŠ ï¼‰

    return restaurants.map((shop, idx) => {
        const isOpen = h >= shop.hours.open && h < shop.hours.close;
        
        // é–‰åº—ä¸­ã¯ã‚¹ã‚­ãƒƒãƒ—ï¼ˆãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‹ã‚‰é™¤å¤–ï¼‰
        if (!isOpen) return { ...shop, score: -1, isOpen: false };

        let score = baseScore;

        // ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆç›¸æ€§
        score += getElementCompatibility(userData.element, shop.element);

        // æ™‚é–“å¸¯ã‚¹ã‚³ã‚¢ï¼ˆå…¨ä½“ï¼‰
        score += getHourScore(h);

        // ã‚¸ãƒ£ãƒ³ãƒ«Ã—æ™‚é–“å¸¯ç›¸æ€§
        if (h >= 7 && h < 11) {        // æœé£Ÿ
            if (shop.genre.includes('ã‚«ãƒ•ã‚§')) score += 12;
            if (shop.name.includes('ã‚³ãƒ¡ãƒ€')) score += 6;
            if (shop.name.includes('ãƒã‚¯ãƒ‰ãƒŠãƒ«ãƒ‰')) score += 8;
        } else if (h >= 11 && h < 15) { // æ˜¼é£Ÿ
            if (shop.genre.includes('ã†ã©ã‚“') || shop.genre.includes('æµ·é®®')) score += 12;
            if (shop.genre.includes('ãƒ©ãƒ¼ãƒ¡ãƒ³')) score += 8;
            if (shop.name.includes('ä¸¸äº€') || shop.name.includes('æºã¡ã‚ƒã‚“')) score += 6;
        } else if (h >= 15 && h < 18) { // ãŠã‚„ã¤
            if (shop.genre.includes('ã‚¹ã‚¤ãƒ¼ãƒ„') || shop.genre.includes('ã‚¯ãƒ¬ãƒ¼ãƒ—')) score += 14;
            if (shop.genre.includes('ã‚«ãƒ•ã‚§')) score += 10;
            if (shop.name.includes('ãƒ‡ã‚£ãƒƒãƒ‘ãƒ¼ãƒ€ãƒ³') || shop.name.includes('ã‚´ãƒ‡ã‚£ãƒ')) score += 6;
        } else if (h >= 18 && h < 22) { // å¤•é£Ÿ
            if (shop.genre.includes('ãƒ©ãƒ¼ãƒ¡ãƒ³') || shop.genre.includes('ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³')) score += 12;
            if (shop.genre.includes('å¤©ã·ã‚‰') || shop.genre.includes('æƒ£èœ')) score += 8;
        } else {                        // æ·±å¤œãƒ»æ—©æœ
            if (shop.name.includes('ãƒã‚¯ãƒ‰ãƒŠãƒ«ãƒ‰')) score += 20;
        }

        // â˜…ã€ä¿®æ­£ã€‘åº—èˆ—ã”ã¨ã«ç•°ãªã‚‹ãƒ©ãƒ³ãƒ€ãƒ è£œæ­£ï¼ˆå¹´æœˆæ—¥æ™‚+åº—èˆ—indexä½¿ç”¨ï¼‰
        score += shopSeed(now, idx);

        return { ...shop, score: Math.min(99, Math.max(45, Math.round(score))), isOpen };
    }).filter(s => s.isOpen && s.score > 0) // â˜…é–‰åº—ä¸­ã‚’é™¤å¤–
      .sort((a, b) => b.score - a.score);
}

// ç†ç”±ç”Ÿæˆ
function generateReason(shop, rank, now, dayKan, kyusei, rokuyo, moonPhase) {
    const reasons = [];
    const h = now.getHours();
    
    const elementMsg = {
        'ç«':'ç‰¡ç¾Šåº§ã®ç«ã‚¨ãƒãƒ«ã‚®ãƒ¼ã¨åŒã˜æ°—ãŒå…±é³´ã—ã€æ´»åŠ›ãŒé«˜ã¾ã‚Šã¾ã™',
        'åœŸ':'ç«ã¨åœŸã¯ç›¸ç”Ÿã®é–¢ä¿‚ã€‚è½ã¡ç€ãã¨å®‰å®šã‚’ã‚‚ãŸã‚‰ã—ã¾ã™',
        'é¢¨':'ç«ã¨é¢¨ã¯ç›¸æ€§æŠœç¾¤ã€‚è‡ªç”±ãªBå‹ã®ç›´æ„ŸåŠ›ãŒå…¨é–‹ã«ãªã‚Šã¾ã™',
        'æ°´':'ç«ã¨æ°´ã®ç·Šå¼µæ„ŸãŒBå‹ã®è¡Œå‹•åŠ›ã‚’åˆºæ¿€ã—ã¾ã™'
    };
    reasons.push(elementMsg[shop.element]);

    // å››æŸ±æ¨å‘½ãƒ»æ—¥å¹²
    reasons.push(`æœ¬æ—¥ã®æ—¥å¹²ã€Œ${dayKan}ã€ãŒ${shop.genre}ã¨ã®ç¸ã‚’ç¤ºã—ã¦ã„ã¾ã™`);

    // ä¹æ˜Ÿæ°—å­¦
    if (kyusei === 'ä¸ƒèµ¤é‡‘æ˜Ÿ') {
        reasons.push('ä¸ƒèµ¤é‡‘æ˜Ÿã®ã€Œå£ã®æ˜Ÿã€ã¯ã‚°ãƒ«ãƒ¡é‹ã‚’å¸ã‚Šã¾ã™');
    }

    // æ™‚é–“å¸¯
    if (h >= 7 && h < 11) reasons.push('æœã®é‹æ°—ãŒæœ€ã‚‚æ¾„ã‚“ã§ã„ã‚‹æ™‚é–“å¸¯');
    else if (h >= 11 && h < 15) reasons.push('ãƒ©ãƒ³ãƒã‚¿ã‚¤ãƒ ã®é»„é‡‘ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒæœ€é«˜æ½®');
    else if (h >= 15 && h < 18) reasons.push('åˆå¾Œã®ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã«æœ€é©ãªå‰æ™‚é–“');
    else if (h >= 18 && h < 22) reasons.push('å¤•é£Ÿé‹ãŒçµ¶é ‚ã‚’è¿ãˆã‚‹æ™‚é–“å¸¯');

    // å…­æ›œ
    const rokuyoMsg = {
        'å¤§å®‰':'å¤§å®‰ã®æœ€å¼·å‰æ—¥ãŒå¾ŒæŠ¼ã—ã—ã¾ã™',
        'å‹å¼•':'å‹å¼•ã§è‰¯ç¸ã¨ç¾é£Ÿã®ç¸ã‚’å¼•ãå¯„ã›ã¾ã™',
        'å…ˆå‹':'å…ˆå‹ã®åˆå‰ä¸­ã«å‹è² ã‚’ã‹ã‘ã‚‹ã®ãŒå‰',
        'å…ˆè² ':'å…ˆè² ã¯åˆå¾Œã‹ã‚‰é‹æ°—ä¸Šæ˜‡ã€‚ä»ŠãŒã¡ã‚‡ã†ã©è‰¯ã„ã‚¿ã‚¤ãƒŸãƒ³ã‚°',
        'èµ¤å£':'èµ¤å£ã®11-13æ™‚ã‚’é¿ã‘ã¦ã®ãŠé£Ÿäº‹ãŒå‰',
        'ä»æ»…':'ä»æ»…ã§ã‚‚é£Ÿäº‹ã§ãƒªã‚»ãƒƒãƒˆã™ã‚‹ã“ã¨ã§é‹æ°—ãŒå¥½è»¢ã—ã¾ã™'
    };
    if (rokuyoMsg[rokuyo]) reasons.push(rokuyoMsg[rokuyo]);

    // æœˆç›¸
    if (moonPhase.bonus >= 6) reasons.push(`${moonPhase.emoji}${moonPhase.phase}ã®å¼·åŠ›ãªå¼•åŠ›ã‚¨ãƒãƒ«ã‚®ãƒ¼`);

    if (rank === 1) reasons.push('ä»Šæ—¥ã®ã‚ãªãŸã«æœ€ã‚‚ç›¸æ€§ãŒè‰¯ã„åº—ã§ã™');

    return reasons.slice(0,3).join('ã€‚') + 'ã€‚';
}

// ========== UI ==========
function updateTime() {
    const now = new Date();
    const m = now.getMonth()+1, d = now.getDate();
    const h = String(now.getHours()).padStart(2,'0');
    const min = String(now.getMinutes()).padStart(2,'0');
    const days = ['æ—¥','æœˆ','ç«','æ°´','æœ¨','é‡‘','åœŸ'];
    document.getElementById('current-time').textContent = `${m}/${d}(${days[now.getDay()]}) ${h}:${min}`;

    // ãƒŸãƒ‹å è¡“è¡¨ç¤º
    const rokuyo = getRokuyo(now);
    const moonPhase = getMoonPhase(now);
    const dayKan = getDayKan(now);
    const kyusei = getKyusei(1993);
    const miniDivi = document.getElementById('mini-divi');
    if (miniDivi) {
        miniDivi.innerHTML = `
            <span class="divi-tag">å…­æ›œ:${rokuyo}</span>
            <span class="divi-tag">${moonPhase.emoji}${moonPhase.phase}</span>
            <span class="divi-tag">æ—¥å¹²:${dayKan}</span>
            <span class="divi-tag">${kyusei}</span>
        `;
    }
}
updateTime();
setInterval(updateTime, 1000);

// ========== å ã„å®Ÿè¡Œ ==========
const loadingMessages = [
    'æ˜Ÿã€…ã«å•ã„ã‹ã‘ã¦ã„ã¾ã™...',
    'ä¹æ˜Ÿæ°—å­¦ã§å‰æ–¹ä½ã‚’è¨ˆç®—ä¸­...',
    'å››æŸ±æ¨å‘½ã§æ—¥å¹²ã‚’é‘‘å®šä¸­...',
    'å…­æ›œã¨æœˆç›¸ã‚’ç¢ºèªä¸­...',
    'ã‚ãªãŸã«æœ€é©ãªãŠåº—ã‚’é¸ã‚“ã§ã„ã¾ã™...',
];
let loadingIdx = 0;
let loadingTimer = null;

function startFortune() {
    document.getElementById('loading').classList.add('show');
    document.getElementById('result').classList.remove('show');

    loadingIdx = 0;
    clearInterval(loadingTimer);
    loadingTimer = setInterval(() => {
        loadingIdx = (loadingIdx + 1) % loadingMessages.length;
        document.getElementById('loading-text').textContent = loadingMessages[loadingIdx];
    }, 400);

    setTimeout(() => {
        clearInterval(loadingTimer);
        const now = new Date();
        const rokuyo = getRokuyo(now);
        const moonPhase = getMoonPhase(now);
        const dayKan = getDayKan(now);
        const kyusei = getKyusei(1993);
        const ranked = calculateRestaurantScores(now);

        let html = '';
        if (ranked.length === 0) {
            html = `<div class="summary">
                <div class="summary-title">âš ï¸ ç¾åœ¨å–¶æ¥­ä¸­ã®ãŠåº—ãŒã‚ã‚Šã¾ã›ã‚“</div>
                <div class="summary-text">å–¶æ¥­æ™‚é–“å¤–ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚æ™‚é–“ã‚’ãŠã„ã¦å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚</div>
            </div>`;
        } else {
            const top3 = ranked.slice(0, 3);
            const medals = ['ğŸ¥‡','ğŸ¥ˆ','ğŸ¥‰'];

            top3.forEach((shop, i) => {
                const reason = generateReason(shop, i+1, now, dayKan, kyusei, rokuyo, moonPhase);
                html += `
                <div class="result-card">
                    <div class="shop-header">
                        <div class="rank">${medals[i]}</div>
                        <div class="shop-icon">${shop.emoji}</div>
                        <div class="shop-info">
                            <div class="shop-name">${shop.name}
                                <span class="open-badge open-now">å–¶æ¥­ä¸­</span>
                            </div>
                            <div class="shop-location">${shop.floor} | ${shop.genre}</div>
                        </div>
                    </div>
                    <div class="score-badge">é‹æ°—ã‚¹ã‚³ã‚¢ï¼š${shop.score}ç‚¹</div>
                    <div class="reason">${reason}</div>
                    <div class="tags">
                        ${shop.tags.map(t => `<span class="tag">#${t}</span>`).join('')}
                    </div>
                </div>`;
            });

            // ç·åˆé‹ãƒ»å è¡“è©³ç´°
            html += `
            <div class="summary">
                <div class="summary-title">âœ¨ æœ¬æ—¥ã®ç·åˆé‹</div>
                <div class="summary-text">
                    ${rokuyo}ã®${moonPhase.emoji}${moonPhase.phase}ã€‚<br>
                    ç‰¡ç¾Šåº§ãƒ»Bå‹ãƒ»é…‰å¹´ã®æ™ƒå¹³ã•ã‚“ã¯ä»Šæ—¥ã€<br>
                    <strong>${top3[0].name}</strong>ã¨ã®é‹æ°—ç›¸æ€§ãŒæœ€é«˜ã§ã™ï¼
                </div>
                <div class="divination-detail">
                    <h3>ğŸ”® æœ¬æ—¥ã®å è¡“ãƒ‡ãƒ¼ã‚¿</h3>
                    <div class="divi-grid">
                        <div class="divi-item">
                            <div class="divi-label">å…­æ›œ</div>
                            <div class="divi-val">${rokuyo}</div>
                        </div>
                        <div class="divi-item">
                            <div class="divi-label">æœˆç›¸</div>
                            <div class="divi-val">${moonPhase.emoji} ${moonPhase.phase}</div>
                        </div>
                        <div class="divi-item">
                            <div class="divi-label">æœ¬æ—¥ã®æ—¥å¹²ï¼ˆå››æŸ±æ¨å‘½ï¼‰</div>
                            <div class="divi-val">${dayKan}æ—¥</div>
                        </div>
                        <div class="divi-item">
                            <div class="divi-label">æœ¬å‘½æ˜Ÿï¼ˆä¹æ˜Ÿæ°—å­¦ï¼‰</div>
                            <div class="divi-val">${kyusei}</div>
                        </div>
                    </div>
                </div>
            </div>
            <button class="back-btn" onclick="location.reload()">ğŸ”„ ã‚‚ã†ä¸€åº¦å ã†</button>`;
        }

        document.getElementById('result').innerHTML = html;
        document.getElementById('loading').classList.remove('show');
        document.getElementById('result').classList.add('show');
    }, 2200);
}
</script>
</body>
</html>
